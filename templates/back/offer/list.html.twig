{% extends 'back/base.html.twig' %}

{% block title %} Liste des offres de stage {% endblock %}

{% block body %}

    <main>
        <div class="container">

            <div class="row">
                <div class="col">

                    <h1 class="text-muted fw-bold mt-4 mb-4">Liste des offres de stage</h1>

                    {% include "fragments/_flash_message.html.twig" %}
                    <div class="overflow-x-auto">
                        <table class="col table table-hover">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Intitulé</th>
                                    <th scope="col">Nom Entreprise</th>
                                    <th scope="col">Région</th>
                                    <th scope="col">Durée</th>
                                    <th scope="col">Créé le</th>
                                    <th scope="col">Modifiée le</th>
                                    <th scope="col" class="text-center">Détail</th>
                                    <th scope="col" class="text-center">Supprimer</th>
                                </tr>
                            </thead>

                            <tbody>
                                {% for offer in offers %}
                                <tr>
                                    <th scope="row">{{ offer.id }}</th>
                                    <td scope="col">{{ offer.title }}</td>
                                    <td scope="col">{{ offer.companyName }}</td>
                                    <td scope="col">{{ offer.region }}</td>
                                    <td scope="col">{{ offer.duration }} jrs</td>
                                    <td scope="col">{{ offer.createdAt|date("m/d/Y") }}</td>
                                    <td scope="col">{{ offer.updatedAt|date("m/d/Y") }}</td>
                                    <td scope="col" class="text-center">
                                        <a href="{{ path('app_front_offer_show', {id: offer.id}) }} " class="btn btn-sm btn-warning"><i class="bi bi-search"></i></a>
                                    </td>

                                    <td scope="col" class="text-center">
                                        <button type="button" class="btn btn-sm btn-danger dropdown-toggle"
                                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="bi bi-trash" aria-hidden="true"></i>
                                        </button>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" href="{{ path('app_back_offer_delete', {id: offer.id}) }}">Oui, je veux supprimer</a>
                                            <a class="dropdown-item" href="#" data-toggle="dropdown">Annuler</a>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>

                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

{% endblock %}
